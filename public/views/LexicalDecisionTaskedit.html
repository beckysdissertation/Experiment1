<!doctype html>
<html>
  <head>
    <title>My experiment</title>
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />
	  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="jspsych/jspsych.js"></script>
    <script src="jspsych/plugins/jspsych-text.js"></script>
	  <script src="jspsych/plugins/jspsych-single-stim.js"></script>
	  <script src="jspsych/plugins/jspsych-survey-text.js"></script>
	  <script src="jspsych/plugins/jspsych-survey-multi-choice.js"></script>
	  <link href="jspsych/css/jspsych.css" rel="stylesheet" type="text/css"></link>
<style>
.stimuli{
font-size:30px;
text-align:center;
font-family:verdana;
}
.stimuli2{
font-size:20px;
text-align:center;
font-family:verdana;
}

</style>
	
	</head>
<body>
</body>
<script>
var instructions_block1={
type:"text",
text:"<p class='stimuli'>In this first task, you will see some <b>strings of letters</b>.</p>"+
"<p class='stimuli'>Your job is to decide whether each of these letter strings are a <b>real word</b> in <b>ENGLISH</b>, or not.</p>"+
"<p class='stimuli2'>(Press SPACE to continue)</p>"
};
var instructions_block2={
type:"text",
text:"<p class='stimuli'> Don’t worry – this is not a spelling or vocabulary test. All  the English words in this task are <b>fairly well-known</b>.</p>"+ 
"<p class='stimuli'>What is <b>more important</b> is the <b>speed</b> and <b>accuracy</b> of responses. Please make your decisions as <b>quickly</b>, but also as <b>accurately</b>, as you can.</p>"+
"<p class='stimuli2'>(Press SPACE to continue)</p>"
};
var instructions_block3={
type:"text",
text:"<p class='stimuli'>Please place your fingers on the <b>'Z'</b> and <b>'M'</b> buttons of your keyboard.</p>"+
"<p class='stimuli'>During the task, when you see a <b>NON</b>-English word, press <b>'Z'</b>, and when you see a <b>REAL</b> French word, press <b>'M'</b>.</p>"+
"<p class='stimuli2'>(Press 'M' to continue)</p>"
};
var instructions_block4={
type:"text",
text:"<p class='stimuli'>Ready? Press <b>'M'</b> to begin!</p>"+
"<p class='stimuli'>Remember - Z= NON-word, M= REAL word!</p>"
};

var words= ["<p class='stimuli'>poison</p>","<p class='stimuli'>danger</p>","<p class='stimuli'>cousin</p>","<p class='stimuli'>niece</p>","<p class='stimuli'>dessert</p>","<p class='stimuli'>engagement</p>","<p class='stimuli'>portrait</p>",
"<p class='stimuli'>queue</p>","<p class='stimuli'>source</p>","<p class='stimuli'>ticket</p>","<p class='stimuli'>combat</p>","<p class='stimuli'>concept</p>","<p class='stimuli'>conclusion</p>","<p class='stimuli'>crime</p>","<p class='stimuli'>cheque</p>",
"<p class='stimuli'>confusion</p>","<p class='stimuli'>continent</p>","<p class='stimuli'>division</p>","<p class='stimuli'>invasion</p>","<p class='stimuli'>laser</p>","<p class='stimuli'>restaurant</p>","<p class='stimuli'>talent</p>","<p class='stimuli'>tension</p>",
"<p class='stimuli'>transport</p>","<p class='stimuli'>vision</p>","<p class='stimuli'>volume</p>","<p class='stimuli'>contact</p>","<p class='stimuli'>metal</p>",
"<p class='stimuli'>rabbit</p>","<p class='stimuli'>shield</p>","<p class='stimuli'>cheese</p>","<p class='stimuli'>drawer</p>","<p class='stimuli'>winter</p>","<p class='stimuli'>shark</p>","<p class='stimuli'>candle</p>","<p class='stimuli'>chicken</p>","<p class='stimuli'>apple</p>",
"<p class='stimuli'>leaf</p>","<p class='stimuli'>wisdom</p>","<p class='stimuli'>knife</p>","<p class='stimuli'>window</p>","<p class='stimuli'>bird</p>","<p class='stimuli'>lunch</p>","<p class='stimuli'>crowd</p>",
"<p class='stimuli'>finger</p>","<p class='stimuli'>exit</p>","<p class='stimuli'>hat</p>","<p class='stimuli'>ring</p>","<p class='stimuli'>flock</p>","<p class='stimuli'>riddle</p>","<p class='stimuli'>ladybird</p>","<p class='stimuli'>twig</p>","<p class='stimuli'>frog</p>",
"<p class='stimuli'>crib</p>","<p class='stimuli'>cleaner</p>","<p class='stimuli'>string</p>","<p class='stimuli'>screy</p>","<p class='stimuli'>thiest</p>","<p class='stimuli'>wheece</p>","<p class='stimuli'>thape</p>","<p class='stimuli'>skeuth</p>","<p class='stimuli'>bropse</p>",
"<p class='stimuli'>pluth</p>","<p class='stimuli'>brerd</p>","<p class='stimuli'>griege</p>","<p class='stimuli'>streich</p>","<p class='stimuli'>clalk</p>","<p class='stimuli'>wouge</p>","<p class='stimuli'>bruice</p>","<p class='stimuli'>brosh</p>","<p class='stimuli'>groad</p>",
"<p class='stimuli'>twuit</p>","<p class='stimuli'>gloak</p>","<p class='stimuli'>nilch</p>","<p class='stimuli'>wredge</p>","<p class='stimuli'>screece</p>","<p class='stimuli'>drerge</p>","<p class='stimuli'>chinge</p>","<p class='stimuli'>brile</p>","<p class='stimuli'>crinth</p>",
"<p class='stimuli'>brarve</p>","<p class='stimuli'>phleague</p>","<p class='stimuli'>sprosque</p>","<p class='stimuli'>preight</p>","<p class='stimuli'>sprauche</p>","<p class='stimuli'>scrourse</p>","<p class='stimuli'>spreighth</p>","<p class='stimuli'>thwourge</p>","<p class='stimuli'>kneighth</p>","<p class='stimuli'>thrasque</p>",
"<p class='stimuli'>clooth</p>","<p class='stimuli'>larsh</p>","<p class='stimuli'>clemp</p>","<p class='stimuli'>sleam</p>","<p class='stimuli'>crudge</p>","<p class='stimuli'>slooge</p>","<p class='stimuli'>thource</p>","<p class='stimuli'>streeth</p>","<p class='stimuli'>swoothe</p>",
"<p class='stimuli'>thwaist</p>","<p class='stimuli'>threnge</p>","<p class='stimuli'>steathe</p>","<p class='stimuli'>scroast</p>","<p class='stimuli'>grounge</p>","<p class='stimuli'>strotch</p>","<p class='stimuli'>stringe</p>","<p class='stimuli'>crourth</p>","<p class='stimuli'>fleethe</p>",
"<p class='stimuli'>plosque</p>","<p class='stimuli'>scriend</p>","<p class='stimuli'>cheight</p>","<p class='stimuli'>slounce</p>"
];
words = shuffle(words);
words.push(randomize_order=true);
console.log(words);

var fixation_trial={
type: 'single-stim',
stimulus: "<p class='stimuli'>+</p>",
is_html: true,
timing_response: 800,
timing_post_trial: 300,
choices: 'none'
};

var endofexperiment={
type:"text",
text:"<p class='stimuli'>You have reached the end of task 1.</p>"+
"<p class='stimuli'>When you are ready, please press any key to move on to the second task.</p>"
};

var csvString = jsPsych.data.dataAsCSV();

var timeline=[];
timeline.push(instructions_block1);
timeline.push(instructions_block2);
timeline.push(instructions_block3);
timeline.push(instructions_block4);
for(var i=0; i<words.length; i++){
 timeline.push(fixation_trial);
 timeline.push({
 type: 'single-stim',
 stimulus: words[i],
 timing_response: 5000,
 timing_post_trial: 300,
 choices: ['z','m'],
 randomize_order:true,
 is_html: true
 });
}
timeline.push(endofexperiment);

jsPsych.init({
timeline:timeline,
on_finish: function() {
jsPsych.data.displayData('csv');
}
});

function shuffle(array) {
  var currentIndex = array.length;
  var temporaryValue;
  var randomIndex;

  // While there remain elements to shuffle...
  while (0 !== currentIndex) {

    // Pick a remaining element...
    randomIndex = Math.floor(Math.random() * currentIndex);
    currentIndex -= 1;

    // And swap it with the current element.
    temporaryValue = array[currentIndex];
    array[currentIndex] = array[randomIndex];
    array[randomIndex] = temporaryValue;
  }

  return array;
}
</script>
</html>